{
  "tools": [
    {
      "name": "decompose_task",
      "description": "Breaks down a user request into 3-7 actionable steps with file targets and LOC estimates",
      "parameters": {
        "type": "object",
        "properties": {
          "user_request": {
            "type": "string",
            "description": "The original user request to decompose"
          },
          "max_steps": {
            "type": "integer",
            "description": "Maximum number of steps (default 7)",
            "default": 7
          }
        },
        "required": ["user_request"]
      }
    },
    {
      "name": "assess_risk",
      "description": "Evaluates the risk level (low/medium/high) of the planned changes",
      "parameters": {
        "type": "object",
        "properties": {
          "operations": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of operations to perform (create, modify, delete, etc.)"
          },
          "file_paths": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of files that will be affected"
          },
          "scope": {
            "type": "string",
            "enum": ["isolated", "module", "system"],
            "description": "Scope of the change"
          }
        },
        "required": ["operations", "file_paths", "scope"]
      }
    },
    {
      "name": "identify_files",
      "description": "Identifies all files that will be created, modified, or deleted",
      "parameters": {
        "type": "object",
        "properties": {
          "task_description": {
            "type": "string",
            "description": "Description of what needs to be accomplished"
          },
          "project_structure": {
            "type": "string",
            "description": "Current project structure or relevant directories"
          }
        },
        "required": ["task_description"]
      }
    },
    {
      "name": "check_allowlist",
      "description": "Verifies that all target files are within the allowed file paths",
      "parameters": {
        "type": "object",
        "properties": {
          "file_paths": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of file paths to check"
          },
          "allowlist": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of allowed path patterns (supports wildcards)"
          }
        },
        "required": ["file_paths"]
      }
    },
    {
      "name": "check_capabilities",
      "description": "Ensures the task is within agent capability limits (LOC, complexity, file count)",
      "parameters": {
        "type": "object",
        "properties": {
          "total_loc": {
            "type": "integer",
            "description": "Estimated total lines of code to be changed"
          },
          "file_count": {
            "type": "integer",
            "description": "Number of files to be modified"
          },
          "complexity": {
            "type": "string",
            "enum": ["simple", "moderate", "complex"],
            "description": "Estimated complexity level"
          }
        },
        "required": ["total_loc", "file_count"]
      }
    },
    {
      "name": "create_rollback_plan",
      "description": "Generates a rollback strategy for undoing the planned changes",
      "parameters": {
        "type": "object",
        "properties": {
          "operations": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "file": {
                  "type": "string"
                },
                "operation": {
                  "type": "string",
                  "enum": ["create", "modify", "delete"]
                }
              }
            },
            "description": "List of operations that will be performed"
          }
        },
        "required": ["operations"]
      }
    }
  ]
}
